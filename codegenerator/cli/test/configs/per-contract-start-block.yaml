# yaml-language-server: $schema=../../npm/envio/evm.schema.json
name: per-contract-start-block-test
schema: ../schemas/schema.graphql
description: Test configuration for per-contract start blocks
networks:
  - id: 1
    rpc_config:
      url: https://eth.com
      initial_block_interval: 10000
      backoff_multiplicative: 0.8
      acceleration_additive: 2000
      interval_ceiling: 10000
      backoff_millis: 5000
      query_timeout_millis: 20000
    start_block: 0  # Network default start block
    contracts:
      - name: Contract1
        abi_file_path: ../abis/Contract1.json
        handler: ./src/EventHandler.js
        address: "0x2E645469f354BB4F5c8a05B3b30A929361cf77eC"
        start_block: 1000  # Specific start block for this contract
        events:
          - event: "NewGravatar"
      - name: Contract2
        abi_file_path: ../abis/Contract2.json
        handler: ./src/EventHandler.js
        address: "0x3F1234567890ABCDEF1234567890ABCDEF123456"
        # No start_block specified, uses network default (0)
        events:
          - event: "UpdatedGravatar"
      - name: Contract3
        abi_file_path: ../abis/Contract1.json
        handler: ./src/EventHandler.js
        address: "0x4A1234567890ABCDEF1234567890ABCDEF123456"
        start_block: 5000  # Another specific start block
        events:
          - event: "NewGravatar" 
